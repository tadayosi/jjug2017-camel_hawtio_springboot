<!doctype html>
<html lang="en">

	<head>
		<meta charset="utf-8">

		<title><small>Apache Camel + hawtio + Spring Boot ã«ã‚ˆã‚‹</small><br/>ãƒ¢ãƒ€ãƒ³ãªã‚¤ãƒ³ãƒ†ã‚°ãƒ¬ãƒ¼ã‚·ãƒ§ãƒ³<br/>ãƒã‚¤ã‚¯ãƒ­ã‚µãƒ¼ãƒ“ã‚¹</title>

		<meta name="description" content="<small>Apache Camel + hawtio + Spring Boot ã«ã‚ˆã‚‹</small><br/>ãƒ¢ãƒ€ãƒ³ãªã‚¤ãƒ³ãƒ†ã‚°ãƒ¬ãƒ¼ã‚·ãƒ§ãƒ³<br/>ãƒã‚¤ã‚¯ãƒ­ã‚µãƒ¼ãƒ“ã‚¹">
		<meta name="author" content="<font color="orange">#ccc_c2</font>">

		<meta name="apple-mobile-web-app-capable" content="yes" />
		<meta name="apple-mobile-web-app-status-bar-style" content="black-translucent" />

		<meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no, minimal-ui">

		<link rel="stylesheet" href="css/reveal.css">
		<link rel="stylesheet" href="css/theme/black.css" id="theme">
		<link rel="stylesheet" href="../presentation.css">

		<!-- Code syntax highlighting -->
		<link rel="stylesheet" href="lib/css/zenburn.css">

		<!-- Printing and PDF exports -->
		<script>
			var link = document.createElement( 'link' );
			link.rel = 'stylesheet';
			link.type = 'text/css';
			link.href = window.location.search.match( /print-pdf/gi ) ? 'css/print/pdf.css' : 'css/print/paper.css';
			document.getElementsByTagName( 'head' )[0].appendChild( link );
		</script>

		<!--[if lt IE 9]>
		<script src="lib/js/html5shiv.js"></script>
		<![endif]-->
	</head>

	<body>

		<div class="reveal">

			<!-- Any section element inside of this container is displayed as a slide -->
			<div class="slides">

				<section>
					<h2><small>Apache Camel + hawtio + Spring Boot ã«ã‚ˆã‚‹</small><br/>ãƒ¢ãƒ€ãƒ³ãªã‚¤ãƒ³ãƒ†ã‚°ãƒ¬ãƒ¼ã‚·ãƒ§ãƒ³<br/>ãƒã‚¤ã‚¯ãƒ­ã‚µãƒ¼ãƒ“ã‚¹</h2>
					<p><font color="orange">#ccc_c2</font></p>
					<p>2017.11.18</p>
				</section>


				<section>
<table>
<colgroup>
<col style="width: 30%" />
<col style="width: 70%" />
</colgroup>
<tbody>
<tr>
<td style="vertical-align: middle">
<img src="../images/profile2.jpg" /> <br/> <small> Twitter: <a href="https://twitter.com/tadayosi">@tadayosi</a><br/> GitHub: <a href="https://github.com/tadayosi">tadayosi</a> </small>
</td>
<td style="vertical-align: top">
<p>ä½è—¤ã€€åŒ¡å‰›<br/><small>ã•ã¨ã† Â ã€€Â  ãŸã ã‚ˆã—</small></p>
<p>ã‚·ãƒ‹ã‚¢ã‚½ãƒ•ãƒˆã‚¦ã‚§ã‚¢ã‚¨ãƒ³ã‚¸ãƒ‹ã‚¢<br />
@ Red Hat</p>
<table>
<tr>
<td style="vertical-align: middle">
<ul>
<li><small>Apache Camel<br/>contributor</small></li>
</ul>
</td>
<td>
<img src="../20171118-jjug_camel_hawtio/camel-tadayosi.png" width="400" />
</td>
</tr>
<tr>
<td style="vertical-align: middle">
<ul>
<li><small>hawtio<br/>committer</small></li>
</ul>
</td>
<td>
<img src="../20171118-jjug_camel_hawtio/hawtio-tadayosi.png" width="400" />
</td>
</tr>
</table>
</td>
</tr>
</tbody>
</table>
</section>
<section id="agenda" class="level2">
<h2>Agenda</h2>
<ol type="1">
<li>ã‚¤ãƒ³ãƒ†ã‚°ãƒ¬ãƒ¼ã‚·ãƒ§ãƒ³ãƒã‚¤ã‚¯ãƒ­ã‚µãƒ¼ãƒ“ã‚¹</li>
<li>Apache Camel ã¨ã¯</li>
<li>ã‚¤ãƒ³ãƒ†ã‚°ãƒ¬ãƒ¼ã‚·ãƒ§ãƒ³ãƒã‚¤ã‚¯ãƒ­ã‚µãƒ¼ãƒ“ã‚¹ã®ä½œã‚Šæ–¹</li>
<li>hawtio ã«ã‚ˆã‚‹ãƒ¢ãƒ‹ã‚¿ãƒªãƒ³ã‚°</li>
</ol>
</section>
<section id="agenda-1" class="level2">
<h2>Agenda</h2>
<ol type="1">
<li><font color="orange"><strong>ã‚¤ãƒ³ãƒ†ã‚°ãƒ¬ãƒ¼ã‚·ãƒ§ãƒ³ãƒã‚¤ã‚¯ãƒ­ã‚µãƒ¼ãƒ“ã‚¹</strong></font></li>
<li>Apache Camel ã¨ã¯</li>
<li>ã‚¤ãƒ³ãƒ†ã‚°ãƒ¬ãƒ¼ã‚·ãƒ§ãƒ³ãƒã‚¤ã‚¯ãƒ­ã‚µãƒ¼ãƒ“ã‚¹ã®ä½œã‚Šæ–¹</li>
<li>hawtio ã«ã‚ˆã‚‹ãƒ¢ãƒ‹ã‚¿ãƒªãƒ³ã‚°</li>
</ol>
</section>
<section id="section" class="level2">
<h2></h2>
<section data-background-image="../images/rh-bg7.jpg">
<h2>
ã‚¤ãƒ³ãƒ†ã‚°ãƒ¬ãƒ¼ã‚·ãƒ§ãƒ³<br/>ãƒã‚¤ã‚¯ãƒ­ã‚µãƒ¼ãƒ“ã‚¹
</h2>
</section>
</section>
<section id="ãƒã‚¤ã‚¯ãƒ­ã‚µãƒ¼ãƒ“ã‚¹ã®ç‰¹å¾´" class="level2">
<h2>ãƒã‚¤ã‚¯ãƒ­ã‚µãƒ¼ãƒ“ã‚¹ã®ç‰¹å¾´</h2>
<ol type="1">
<li>ã‚µã‚¤ã‚ºãŒå°ã•ã„</li>
<li>ãƒ¢ãƒ‹ã‚¿ãƒªãƒ³ã‚°å¯èƒ½</li>
<li>éšœå®³ã‚’å‰æã«ã—ãŸè¨­è¨ˆ</li>
<li>é«˜ã„ã‚«ã‚¹ã‚¿ãƒã‚¤ã‚ºæ€§</li>
<li>è³¢ã„ã‚¨ãƒ³ãƒ‰ãƒã‚¤ãƒ³ãƒˆã¨å˜ç´”ãªãƒ‘ã‚¤ãƒ—</li>
<li>ãƒ†ã‚¹ãƒˆå®¹æ˜“æ€§</li>
</ol>
</section>
<section id="section-1" class="level2">
<h2></h2>
<p>è³¢ã„ã‚¨ãƒ³ãƒ‰ãƒã‚¤ãƒ³ãƒˆã¨å˜ç´”ãªãƒ‘ã‚¤ãƒ—<br />
Smart endpoints and dumb pipes</p>
<blockquote>
<p><small>â€œThe microservice community favours an alternative approach: <font color="red">smart endpoints and dumb pipes</font>. Applications built from microservices aim to be as decoupled and as cohesive as possible â€“ they own their own domain logic and act more as filters in the classical Unix sense â€“ receiving a request, applying logic as appropriate and producing a response. These are choreographed using simple RESTish protocols rather than complex protocols such as WS-Choreography or BPEL or orchestration by a central tool.â€<br />
â€“ James Lewis &amp; Martin Fowler</small></p>
</blockquote>
<p><small> <a href="https://martinfowler.com/articles/microservices.html" class="uri">https://martinfowler.com/articles/microservices.html</a> </small></p>
</section>
<section id="section-2" class="level2">
<h2></h2>
<p>ãƒ«ãƒ¼ãƒ†ã‚£ãƒ³ã‚°ãƒ­ã‚¸ãƒƒã‚¯ãŒã‚¨ãƒ³ãƒ‰ãƒã‚¤ãƒ³ãƒˆã«</p>
<table>
<colgroup>
<col style="width: 45%" />
<col style="width: 10%" /<col style="width: 45%" />
</colgroup>
<tr>
<td style="vertical-align: middle; text-align: center">
<img src="../20171118-jjug_camel_hawtio/esb-vs-ms-esb.png" /> <small>SOA</small>
</td>
<td style="vertical-align: middle; text-align: center">
vs.
</td>
<td>
<div style="vertical-align: middle; text-align: center">
<p><img src="../20171118-jjug_camel_hawtio/esb-vs-ms-ms.png" /> <small>ãƒã‚¤ã‚¯ãƒ­ã‚µãƒ¼ãƒ“ã‚¹</small></p>
</div>
</td>
</tr>
</table>
</section>
<section id="agenda-2" class="level2">
<h2>Agenda</h2>
<ol type="1">
<li>ã‚¤ãƒ³ãƒ†ã‚°ãƒ¬ãƒ¼ã‚·ãƒ§ãƒ³ãƒã‚¤ã‚¯ãƒ­ã‚µãƒ¼ãƒ“ã‚¹</li>
<li><font color="orange"><strong>Apache Camel ã¨ã¯</strong></font></li>
<li>ã‚¤ãƒ³ãƒ†ã‚°ãƒ¬ãƒ¼ã‚·ãƒ§ãƒ³ãƒã‚¤ã‚¯ãƒ­ã‚µãƒ¼ãƒ“ã‚¹ã®ä½œã‚Šæ–¹</li>
<li>hawtio ã«ã‚ˆã‚‹ãƒ¢ãƒ‹ã‚¿ãƒªãƒ³ã‚°</li>
</ol>
</section>
<section id="section-3" class="level2">
<h2></h2>
<section data-background-color="#ffffff" data-transition="none">
<img src="../20171118-jjug_camel_hawtio/camel-logo.png" />
</section>
</section>
<section id="apache-camel" class="level2">
<h2>Apache Camel</h2>
<table>
<colgroup>
<col style="width: 30%" />
<col style="width: 70%" />
</colgroup>
<tr>
<td style="vertical-align: middle">
<img src="../20171118-jjug_camel_hawtio/camel.png" />
</td>
<td>
<div style="vertical-align: top">
<ul>
<li>è»½é‡ãªã‚¤ãƒ³ãƒ†ã‚°ãƒ¬ãƒ¼ã‚·ãƒ§ãƒ³<br />
ãƒ•ãƒ¬ãƒ¼ãƒ ãƒ¯ãƒ¼ã‚¯
<ul>
<li><code>camel-core.jar</code> â‰ˆ 4.8M</li>
</ul></li>
<li>ç›´è¦³çš„ãªãƒ«ãƒ¼ãƒ†ã‚£ãƒ³ã‚° DSL</li>
<li>Enterprise Integration Patterns</li>
</ul>
</div>
</td>
</tr>
</table>
</section>
<section id="apache-camel-1" class="level2">
<h2>Apache Camel</h2>
<table>
<colgroup>
<col style="width: 30%" />
<col style="width: 70%" />
</colgroup>
<tr>
<td style="vertical-align: middle">
<img src="../20171118-jjug_camel_hawtio/camel.png" />
</td>
<td>
<div style="vertical-align: top">
<ul>
<li>280+ ã®æ¥ç¶šã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆ</li>
<li>GUI é–‹ç™ºç’°å¢ƒï¼ˆEclipseï¼‰</li>
<li>ãƒã‚¤ã‚¯ãƒ­ã‚µãƒ¼ãƒ“ã‚¹ã®ã‚µãƒãƒ¼ãƒˆ
<ul>
<li>Spring Boot / WildFly Swarm</li>
<li>Netflix Hystrix</li>
</ul></li>
</ul>
</div>
</td>
</tr>
</table>
</section>
<section id="camel-ã§ã§ãã‚‹ã“ã¨" class="level2">
<h2>ğŸª Camel ã§ã§ãã‚‹ã“ã¨ ğŸª</h2>
<ol type="1">
<li><font color="orange">HTTP/REST</font> ã§å—ã‘å–ã£ãŸãƒªã‚¯ã‚¨ã‚¹ãƒˆã‚’ <font color="orange">Twitter</font> ã«ãƒ„ã‚£ãƒ¼ãƒˆã™ã‚‹</li>
<li><font color="orange">SOAP</font> ã§å—ã‘å–ã£ãŸãƒªã‚¯ã‚¨ã‚¹ãƒˆã‚’ <font color="orange">Kafka</font> ã¸æµã™</li>
<li><font color="orange">ActiveMQ</font> ã‹ã‚‰å—ã‘å–ã£ãŸ JMS ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ã‚’ã€ãƒ‡ãƒ¼ã‚¿ã®å†…å®¹ã«å¿œã˜ã¦ï¼š</li>
</ol>
<ul>
<li><font color="orange">MongoDB</font> ã«æ°¸ç¶šåŒ–ã™ã‚‹</li>
<li>åˆ¥ã® <font color="orange">Web ã‚µãƒ¼ãƒ“ã‚¹</font> ã«æŠ•ã’ã‚‹</li>
<li><font color="orange">Twilio</font> ã‚’ä½¿ã£ã¦ã‚¹ãƒãƒ›ã« SMS ã§é€šçŸ¥ã™ã‚‹</li>
</ul>
</section>
<section id="java-dsl" class="level2">
<h2>Java DSL</h2>
<p><small><font color="orange">HTTP</font> ã§å—ã‘å–ã£ãŸãƒªã‚¯ã‚¨ã‚¹ãƒˆã‚’ <font color="orange">Twitter</font> ã«ãƒ„ã‚£ãƒ¼ãƒˆã™ã‚‹</small></p>
<pre><code>public class HelloRoute extends RouteBuilder {
  @Override
  public void configure() throws Exception {

    from(&quot;undertow:http://localhost:8080/hello&quot;)
      .log(&quot;name = ${in.header.name}&quot;)
      .setBody(simple(&quot;Hello, ${in.header.name}! #ccc_c2&quot;))
      .to(&quot;twitter-timeline://user&quot;)
      .setBody(constant(&quot;Success!&quot;));

  }
}</code></pre>
</section>
<section id="alt-java-ã§ã‚‚-ok" class="level2">
<h2>Alt Java ã§ã‚‚ OK</h2>
<p>(Scala)</p>
<pre><code>class HelloRoute extends RouteBuilder {
  override def configure: Unit = {

    from(&quot;undertow:http://localhost:8080/hello&quot;)
      .log(&quot;name = ${in.header.name}&quot;)
      .setBody(simple(&quot;Hello, ${in.header.name}! #ccc_c2&quot;))
      .to(&quot;twitter-timeline://user&quot;)
      .setBody(constant(&quot;Success!&quot;))

  }
}</code></pre>
</section>
<section id="spring-xml-dsl" class="level2">
<h2>Spring XML DSL</h2>
<p><code>&lt;beans&gt; ... &lt;/beans&gt;</code> ã®ä¸­ã«å®šç¾©ã™ã‚‹</p>
<pre><code>&lt;camelContext xmlns=&quot;http://camel.apache.org/schema/spring&quot;&gt;
&lt;route&gt;
  &lt;from uri=&quot;undertow:http://localhost:8081/hello&quot; /&gt;
  &lt;log message=&quot;name = ${in.header.name}&quot; /&gt;
  &lt;setBody&gt;
    &lt;simple&gt;Hello, ${in.header.name}! #ccc_c2&lt;/simple&gt;
  &lt;/setBody&gt;
  &lt;to uri=&quot;twitter-timeline://user&quot; /&gt;
  &lt;setBody&gt;
    &lt;constant&gt;Success!&lt;/constant&gt;
  &lt;/setBody&gt;
&lt;/route&gt;
&lt;/camelContext&gt;</code></pre>
</section>
<section id="section-4" class="level2">
<h2></h2>
<section data-background-image="../images/eip.jpg" data-background-size="auto 70%" data-background-position="left">
<table>
<colgroup>
<col style="width: 40%" />
<col style="width: 60%" />
</colgroup>
<tbody>
<tr>
<td>
</td>
<td>
<div style="vertical-align: middle">
<p><strong>Enterprise Integration Patterns</strong></p>
<ul>
<li>ã‚·ã‚¹ãƒ†ãƒ é–“é€£æºã®ãƒ™ã‚¹ãƒˆ<br />
ãƒ—ãƒ©ã‚¯ãƒ†ã‚£ã‚¹</li>
<li>65 ã®ãƒ‡ã‚¶ã‚¤ãƒ³ãƒ‘ã‚¿ãƒ¼ãƒ³</li>
</ul>
<p><img src="../20171118-jjug_camel_hawtio/eip.png" width="500" /></p>
</div>
</td>
</tr>
</tbody>
</table>
</section>
</section>
<section id="content-based-router" class="level2">
<h2>Content-Based Router</h2>
<p><img src="../20171118-jjug_camel_hawtio/eip-ContentBasedRouter.gif" /></p>
<pre><code>from(&quot;direct:input&quot;)
  .choice()
    .when(header(&quot;country&quot;).isEqualTo(&quot;JP&quot;))
      .to(&quot;direct:japan&quot;)
    .when(header(&quot;country&quot;).isEqualTo(&quot;US&quot;))
      .to(&quot;direct:us&quot;)
    .when(header(&quot;country&quot;).isEqualTo(&quot;UK&quot;))
      .to(&quot;direct:uk&quot;)
    .otherwise()
      .to(&quot;direct:other&quot;);</code></pre>
</section>
<section id="ä¾‹å¤–å‡¦ç†" class="level2">
<h2>ä¾‹å¤–å‡¦ç†</h2>
<p>ä¾‹ï¼š 1,000 ãƒŸãƒªç§’ã®é–“éš”ã§ã€3 å›ã¾ã§å†é€ã‚’è©¦ã¿ã‚‹</p>
<pre><code>errorHandler(defaultErrorHandler()
  .maximumRedeliveries(3)
  .redeliveryDelay(1000)
  .retryAttemptedLogLevel(LoggingLevel.WARN));

from(&quot;undertow:http://localhost:8080/hello&quot;)
  ...</code></pre>
</section>
<section id="ã®ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆ" class="level2">
<h2>280+ ã®ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆ</h2>
<p><small> <a href="https://github.com/apache/camel/blob/camel-2.20.0/components/readme.adoc" class="uri">https://github.com/apache/camel/blob/camel-2.20.0/components/readme.adoc</a></p>
<table>
<tbody>
<tr class="odd">
<td>AWS</td>
<td>Azure</td>
<td>Box</td>
<td>Cassandra</td>
<td>Consul</td>
<td></td>
</tr>
<tr class="even">
<td>CouchDB</td>
<td>CXF</td>
<td>DigitalOcean</td>
<td>Docker</td>
<td>Dropbox</td>
<td></td>
</tr>
<tr class="odd">
<td>Ehcache</td>
<td>Elasticsearch</td>
<td>Etcd</td>
<td>Facebook</td>
<td>Ganglia</td>
<td></td>
</tr>
<tr class="even">
<td>GitHub</td>
<td>Google</td>
<td>Hazelcast</td>
<td>Hadoop</td>
<td>Hipchat</td>
<td></td>
</tr>
<tr class="odd">
<td>Ignite</td>
<td>Infinispan</td>
<td>IronMQ</td>
<td>jBPM</td>
<td>jclouds</td>
<td></td>
</tr>
<tr class="even">
<td>JIRA</td>
<td>JT400</td>
<td>Kafka</td>
<td>Kubernetes</td>
<td>LinkedIn</td>
<td></td>
</tr>
<tr class="odd">
<td>Lucene</td>
<td>MongoDB</td>
<td>MQTT</td>
<td>Nagios</td>
<td>OpenStack</td>
<td></td>
</tr>
<tr class="even">
<td>OptaPlanner</td>
<td>PubNub</td>
<td>RabbitMQ</td>
<td>Salesforce</td>
<td>SAP</td>
<td></td>
</tr>
<tr class="odd">
<td>ServiceNow</td>
<td>Splunk</td>
<td>STOMP</td>
<td>Telegram</td>
<td>Thrift</td>
<td></td>
</tr>
<tr class="even">
<td>Tika</td>
<td>Twilio</td>
<td>Twitter</td>
<td>Vert.x</td>
<td>Yammer</td>
<td></td>
</tr>
<tr class="odd">
<td>Zendesk</td>
<td>ZooKeeper</td>
<td>â€¦</td>
<td></td>
<td></td>
<td></td>
</tr>
</tbody>
</table>
<p></small></p>
</section>
<section id="eclipse-ãƒ—ãƒ©ã‚°ã‚¤ãƒ³" class="level2">
<h2>Eclipse ãƒ—ãƒ©ã‚°ã‚¤ãƒ³</h2>
<p><img src="../20171118-jjug_camel_hawtio/fuse-tooling.png" width="700" /></p>
<p><small> <a href="http://tools.jboss.org/features/fusetools.html" class="uri">http://tools.jboss.org/features/fusetools.html</a> </small></p>
</section>
<section id="ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆã®é–‹ç™ºã‚‚ç°¡å˜" class="level2">
<h2>ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆã®é–‹ç™ºã‚‚ç°¡å˜</h2>
<ul>
<li>API Component Framework <small style="vertical-align: middle">by Apache Camel</small></li>
<li>ã‚µãƒ¼ãƒ“ã‚¹ã® API ã‹ã‚‰ã‚¹ã‚¿ãƒ–ã‚’è‡ªå‹•ç”Ÿæˆï¼š
<ul>
<li>Java SDK</li>
<li>WADLï¼ˆREST ã‚µãƒ¼ãƒ“ã‚¹ï¼‰</li>
</ul></li>
</ul>
</section>
<section id="agenda-3" class="level2">
<h2>Agenda</h2>
<ol type="1">
<li>ã‚¤ãƒ³ãƒ†ã‚°ãƒ¬ãƒ¼ã‚·ãƒ§ãƒ³ãƒã‚¤ã‚¯ãƒ­ã‚µãƒ¼ãƒ“ã‚¹</li>
<li>Apache Camel ã¨ã¯</li>
<li><font color="orange"><strong>ã‚¤ãƒ³ãƒ†ã‚°ãƒ¬ãƒ¼ã‚·ãƒ§ãƒ³ãƒã‚¤ã‚¯ãƒ­ã‚µãƒ¼ãƒ“ã‚¹ã®ä½œã‚Šæ–¹</strong></font></li>
<li>hawtio ã«ã‚ˆã‚‹ãƒ¢ãƒ‹ã‚¿ãƒªãƒ³ã‚°</li>
</ol>
</section>
<section id="section-5" class="level2">
<h2></h2>
<section data-background-image="../images/rh-bg6.jpg">
<h2>
ã‚¤ãƒ³ãƒ†ã‚°ãƒ¬ãƒ¼ã‚·ãƒ§ãƒ³<br/>ãƒã‚¤ã‚¯ãƒ­ã‚µãƒ¼ãƒ“ã‚¹ã®ä½œã‚Šæ–¹
</h2>
</section>
</section>
<section id="camel-spring-boot" class="level2">
<h2>Camel âš” Spring Boot</h2>
<ol type="1">
<li>Spring Boot ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆã‚’ä½œæˆ</li>
<li>Camel ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆ Starter ã‚’ <code>pom.xml</code> ã«è¿½åŠ </li>
<li><code>@Component</code> ã‚’ä»˜ã‘ãŸ Camel ãƒ«ãƒ¼ãƒˆã‚’å®šç¾©</li>
</ol>
</section>
<section id="spring-initializr" class="level2">
<h2>Spring Initializr</h2>
<p><a href="https://start.spring.io" class="uri">https://start.spring.io</a></p>
<p><img src="../20171118-jjug_camel_hawtio/spring-initializr.png" /></p>
</section>
<section id="camel-ã®-starter-ã‚’è¿½åŠ " class="level2">
<h2>Camel ã® Starter ã‚’è¿½åŠ </h2>
<pre><code>&lt;dependencies&gt;
...
&lt;dependency&gt;
  &lt;groupId&gt;org.apache.camel&lt;/groupId&gt;
  &lt;artifactId&gt;camel-spring-boot-starter&lt;/artifactId&gt;
&lt;/dependency&gt;
&lt;dependency&gt;
  &lt;groupId&gt;org.apache.camel&lt;/groupId&gt;
  &lt;artifactId&gt;camel-undertow-starter&lt;/artifactId&gt;
&lt;/dependency&gt;
&lt;dependency&gt;
  &lt;groupId&gt;org.apache.camel&lt;/groupId&gt;
  &lt;artifactId&gt;camel-twitter-starter&lt;/artifactId&gt;
&lt;/dependency&gt;</code></pre>
</section>
<section id="camel-ãƒ«ãƒ¼ãƒˆã‚’å®šç¾©" class="level2">
<h2>Camel ãƒ«ãƒ¼ãƒˆã‚’å®šç¾©</h2>
<pre><code>@Component
public class HelloRoute extends RouteBuilder {

  @Override
  public void configure() throws Exception {
    from(&quot;undertow:http://localhost:8080/hello&quot;)
      ...</code></pre>
</section>
<section id="spring-xml-ã®å ´åˆ" class="level2">
<h2>Spring XML ã®å ´åˆ</h2>
<p><code>@ImportResource</code> ã§ XML ã‚’èª­ã¿è¾¼ã‚€</p>
<pre><code>@SpringBootApplication
@ImportResource(&quot;classpath:camel-context.xml&quot;)
public class CamelApplication {

    public static void main(String[] args) {
        SpringApplication.run(CamelApplication.class, args);
    }
}</code></pre>
</section>
<section id="section-6" class="level2">
<h2></h2>
<section data-background-color="#ffffff" data-transition="none">
<img src="../20171118-jjug_camel_hawtio/hystrix.png" />
</section>
</section>
<section id="circuit-breaker-ãƒ‘ã‚¿ãƒ¼ãƒ³" class="level2">
<h2>Circuit Breaker ãƒ‘ã‚¿ãƒ¼ãƒ³</h2>
<p><img src="../20171118-jjug_camel_hawtio/circuit-breaker.png" /></p>
<p><small> <a href="https://martinfowler.com/bliki/CircuitBreaker.html" class="uri">https://martinfowler.com/bliki/CircuitBreaker.html</a> </small></p>
</section>
<section id="hystrix-in-java" class="level2">
<h2>Hystrix in Java</h2>
<pre><code>public class HelloCommand extends HystrixCommand&lt;String&gt; {
  public HelloCommand() {
    super(HystrixCommandGroupKey.Factory.asKey(&quot;SampleGroup&quot;));
  }
  protected String run() throws Exception {
    // ãªã«ã‹ä¾‹å¤–ã®ç™ºç”Ÿã™ã‚‹å¯èƒ½æ€§ã®ã‚ã‚‹å‡¦ç†ã‚’ã™ã‚‹
    return ...;
  }
}</code></pre>
<pre><code>HelloCommand cmd = new HelloCommand();
String result = cmd.execute();</code></pre>
</section>
<section id="hystrix-in-camel" class="level2">
<h2>Hystrix in Camel</h2>
<pre><code>from(&quot;undertow:http://localhost:8080/hello&quot;)
  .log(&quot;name = ${in.header.name}&quot;)
  .setBody(simple(&quot;Hello, ${in.header.name}! #ccc_c2&quot;))
  // è‡ªå‹•çš„ã« HystrixCommand ã‚’ç”Ÿæˆï¼å®Ÿè¡Œ
  .hystrix()
    .to(&quot;twitter-timeline://user&quot;)
    .setBody(constant(&quot;Success!&quot;))
  .onFallback()
    .setBody(constant(&quot;Error - I&#39;m seeing the whale!&quot;))
  .end();</code></pre>
</section>
<section id="ä½¿ã„æ–¹" class="level2">
<h2>ä½¿ã„æ–¹</h2>
<p><code>pom.xml</code> ã«ä»¥ä¸‹ã‚’è¿½åŠ </p>
<pre><code>&lt;dependency&gt;
  &lt;groupId&gt;org.apache.camel&lt;/groupId&gt;
  &lt;artifactId&gt;camel-hystrix&lt;/artifactId&gt;
&lt;/dependency&gt;</code></pre>
</section>
<section id="demo" class="level2">
<h2>Demo</h2>
</section>
<section id="agenda-4" class="level2">
<h2>Agenda</h2>
<ol type="1">
<li>ã‚¤ãƒ³ãƒ†ã‚°ãƒ¬ãƒ¼ã‚·ãƒ§ãƒ³ãƒã‚¤ã‚¯ãƒ­ã‚µãƒ¼ãƒ“ã‚¹</li>
<li>Apache Camel ã¨ã¯</li>
<li>ã‚¤ãƒ³ãƒ†ã‚°ãƒ¬ãƒ¼ã‚·ãƒ§ãƒ³ãƒã‚¤ã‚¯ãƒ­ã‚µãƒ¼ãƒ“ã‚¹ã®ä½œã‚Šæ–¹</li>
<li><font color="orange"><strong>hawtio ã«ã‚ˆã‚‹ãƒ¢ãƒ‹ã‚¿ãƒªãƒ³ã‚°</strong></font></li>
</ol>
</section>
<section id="section-7" class="level2">
<h2></h2>
<section data-background-image="../images/rh-bg8.jpg">
<h2>
ãƒã‚¤ã‚¯ãƒ­ã‚µãƒ¼ãƒ“ã‚¹ã‚’<br/>ã©ã†ã‚„ã£ã¦ç›£è¦–ã™ã‚‹ï¼Ÿ
</h2>
</section>
</section>
<section id="jvm-ã®ç›£è¦–ã¨ã„ãˆã°-jmx" class="level2">
<h2>JVM ã®ç›£è¦–ã¨ã„ãˆã°â€¦<br/><br/>JMX</h2>
</section>
<section id="section-8" class="level2">
<h2></h2>
<p>JConsole â€¦</p>
<p><img src="../20171118-jjug_camel_hawtio/jconsole.png" /></p>
</section>
<section id="section-9" class="level2">
<h2></h2>
<section data-background-color="#ffffff" data-transition="none">
<img src="../20171118-jjug_camel_hawtio/hawtio.png" /> <img src="../20171118-jjug_camel_hawtio/jolokia.png" />
</section>
</section>
<section id="hawtio" class="level2">
<h2><img src="../20171118-jjug_camel_hawtio/hawtio-icon.png" style="vertical-align: bottom" /> hawtio</h2>
<p>ğŸ”¥ Web ãƒ™ãƒ¼ã‚¹ã®ã‚¤ã‚±ã¦ã‚‹ JMX ç›£è¦–ãƒ„ãƒ¼ãƒ« ğŸ”¥</p>
<p><small style="vertical-align: middle">Made by</small> AngularJS 1.x + Jolokia</p>
<p><img src="../20171118-jjug_camel_hawtio/hawtio-screenshot.png" /></p>
</section>
<section id="jolokia" class="level2">
<h2>Jolokia</h2>
<p>ğŸŒ¶ğŸŒ¶ğŸŒ¶ JMX ã«ã‚«ãƒ—ã‚µã‚¤ã‚·ãƒ³ã‚’ã¶ã£è¾¼ã‚€ ğŸŒ¶ğŸŒ¶ğŸŒ¶</p>
<p><img src="../20171118-jjug_camel_hawtio/jolokia_architecture.png" /></p>
<p><small> <a href="https://jolokia.org/reference/html/architecture.html" class="uri">https://jolokia.org/reference/html/architecture.html</a> </small></p>
</section>
<section id="hawtio-spring-boot" class="level2">
<h2>hawtio âš” Spring Boot</h2>
<p><code>pom.xml</code> ã« <code>dependency</code> ã‚’è¿½åŠ ã™ã‚‹ã ã‘ï¼</p>
<pre><code>&lt;dependencies&gt;

    &lt;!-- hawtio --&gt;
    &lt;dependency&gt;
        &lt;groupId&gt;io.hawt&lt;/groupId&gt;
        &lt;artifactId&gt;hawtio-springboot&lt;/artifactId&gt;
        &lt;version&gt;1.5.6&lt;/version&gt;
    &lt;/dependency&gt;

&lt;dependencies&gt;</code></pre>
</section>
<section id="demo-1" class="level2">
<h2>Demo</h2>
</section>
<section id="section-10" class="level2">
<h2></h2>
<section data-background-image="../images/rh-bg2.jpg">
<h2 style="color: black">
ãƒ©ã‚¯ãƒ€ä¹—ã‚Šã«ãªã‚‹ã«ã¯
</h2>
</section>
</section>
<section id="section-11" class="level2">
<h2></h2>
<section data-background-image="../images/camel-in-action2.png" data-background-size="auto 70%" data-background-position="left">
<table>
<colgroup>
<col style="width: 40%" />
<col style="width: 65%" />
</colgroup>
<tbody>
<tr>
<td>
</td>
<td>
<div style="vertical-align: middle">
<h3>
Camel in Action 2
</h3>
<p><br/></p>
<p><font color="orange"><strong>æ¥æœˆï¼ˆ12æœˆï¼‰å‡ºç‰ˆäºˆå®šï¼</strong></font></p>
</div>
</td>
</tr>
</tbody>
</table>
</section>
</section>
<section id="section-12" class="level2">
<h2></h2>
<section data-background-image="../20171118-jjug_camel_hawtio/jcug.jpg">
<h2>
Japan Camel User Group<br/>(JCUG)
</h2>
<p><br/><br/><br/></p>
<p><a href="https://jcug-oss.github.io" class="uri">https://jcug-oss.github.io</a></p>
<p><font color="orange"><strong>Camel in Action 2 ã®èª­æ›¸ä¼šã‚’é–‹å‚¬ä¸­ï¼</strong></font></p>
<p><br/></p>
</section>
</section>
<section id="section-13" class="level2">
<h2></h2>
<section data-background-image="../images/rh-bg4.jpg">
<h1>
<font color="black">Q &amp; A</font>
</h1>
</section>
</section>
<section id="thank-you" class="level2">
<h2>Thank you!</h2>
</section>

			</div>

		</div>

		<script src="lib/js/head.min.js"></script>
		<script src="js/reveal.js"></script>

		<script>

			// Full list of configuration options available at:
			// https://github.com/hakimel/reveal.js#configuration
			Reveal.initialize({
				controls: false,
				progress: true,
				slideNumber: 'c/t',
				history: true,
				center: true,
				width: 1024,
				height: 768,

				transition: 'fade', // none/fade/slide/convex/concave/zoom

				// Parallax scrolling
				// parallaxBackgroundImage: 'https://s3.amazonaws.com/hakim-static/reveal-js/reveal-parallax-1.jpg',
				// parallaxBackgroundSize: '2100px 900px',

				// Optional reveal.js plugins
				dependencies: [
					{ src: 'lib/js/classList.js', condition: function() { return !document.body.classList; } },
					{ src: 'plugin/markdown/marked.js', condition: function() { return !!document.querySelector( '[data-markdown]' ); } },
					{ src: 'plugin/markdown/markdown.js', condition: function() { return !!document.querySelector( '[data-markdown]' ); } },
					{ src: 'plugin/highlight/highlight.js', async: true, condition: function() { return !!document.querySelector( 'pre code' ); }, callback: function() { hljs.initHighlightingOnLoad(); } },
					{ src: 'plugin/zoom-js/zoom.js', async: true },
					{ src: 'plugin/notes/notes.js', async: true }
				]
			});

		</script>

	</body>
</html>
